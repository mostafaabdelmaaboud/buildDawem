"use strict";(self.webpackChunkDawem=self.webpackChunkDawem||[]).push([[665],{8665:(I,v,l)=>{l.d(v,{f:()=>D});var t=l(4650),d=l(6895),a=l(4006),c=l(5412),m=l(666),_=l(1740),g=l(4463),f=l(3327),h=l(7913),C=l(1008),b=l(6176),Z=l(805);function x(e,u){1&e&&(t.TgZ(0,"div",37),t._uU(1," currency is Request "),t.qZA())}function O(e,u){if(1&e&&(t.TgZ(0,"div",35),t.YNc(1,x,2,0,"div",36),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",(null==(o=n.getControl("currency"))?null:o.hasError("required"))&&(null==(o=n.getControl("currency"))?null:o.dirty))}}function y(e,u){1&e&&(t.TgZ(0,"div",37),t._uU(1," currency is Request "),t.qZA())}function T(e,u){if(1&e&&(t.TgZ(0,"div",35),t.YNc(1,y,2,0,"div",36),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",(null==(o=n.getControl("currency"))?null:o.hasError("required"))&&(null==(o=n.getControl("currency"))?null:o.dirty))}}function M(e,u){1&e&&(t.TgZ(0,"div",37),t._uU(1," History of justification is Request "),t.qZA())}function q(e,u){if(1&e&&(t.TgZ(0,"div",35),t.YNc(1,M,2,0,"div",36),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",(null==(o=n.getControl("historyOfJustification"))?null:o.hasError("required"))&&(null==(o=n.getControl("historyOfJustification"))?null:o.dirty))}}function P(e,u){if(1&e){const n=t.EpF();t.TgZ(0,"li",41)(1,"div"),t._UZ(2,"img",42),t.qZA(),t.TgZ(3,"div",43)(4,"span",44),t._uU(5,"name:"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div")(8,"span",44),t._uU(9,"size:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div")(12,"button",45),t.NdJ("click",function(){const r=t.CHM(n).$implicit,s=t.oxw(3);return t.KtG(s.onRemoveCommercialReg(r.fileUpload))}),t._UZ(13,"span",46),t.qZA()()()}if(2&e){const n=u.$implicit;t.xp6(2),t.Q6J("src",n.imageSrc,t.LSH),t.xp6(4),t.hij(" ",n.fileUpload.name," "),t.xp6(4),t.hij(" ",n.fileUpload.size," ")}}function w(e,u){if(1&e&&(t.TgZ(0,"ul",39),t.YNc(1,P,14,3,"li",40),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.uploadedCommercialRegFiles)}}function U(e,u){if(1&e&&t.YNc(0,w,2,1,"ul",38),2&e){const n=t.oxw();t.Q6J("ngIf",n.uploadedCommercialRegFiles.length)}}function R(e,u){1&e&&(t.TgZ(0,"div",37),t._uU(1," currency is Request "),t.qZA())}function E(e,u){if(1&e&&(t.TgZ(0,"div",35),t.YNc(1,R,2,0,"div",36),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",(null==(o=n.getControl("currency"))?null:o.hasError("required"))&&(null==(o=n.getControl("currency"))?null:o.dirty))}}let D=(()=>{class e{constructor(n,o,i,r){this.dialogRef=n,this.data=o,this.authService=i,this.fb=r,this.submitClicked=new t.vpe,this.list=[{name:"\u062a\u0643\u0644\u064a\u0641 \u0628\u0627\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0631\u064a\u0642",key:"1"},{name:"\u062a\u0643\u0644\u064a\u0641 \u0628\u0627\u062f\u0627\u0631\u0629 \u0641\u0631\u064a\u0642 \u0627\u062e\u0631",key:"2"},{name:"\u062a\u0643\u0644\u064a\u0641 \u0628\u0627\u0644\u0627\u0646\u062a\u062f\u0627\u0628 \u0644\u0644\u0639\u0645\u0644 ",key:"3"},{name:"\u062a\u0643\u0644\u064a\u0641 \u0628\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0644\u0641\u0631\u064a\u0642 \u0627\u062e\u0631",key:"4"}],this.listTwo=[{name:"\u0627\u062d\u0645\u062f \u0639\u0644\u064a",key:"1"},{name:"\u0633\u064a\u062f \u0639\u0644\u064a",key:"2"},{name:"\u0645\u062d\u0633\u0646 \u0639\u0644\u064a",key:"3"},{name:"\u0631\u062c\u0628",key:"4"}],this.addBranchGroupForm=this.fb.group({setAsNecessary:[""],typeOfJustification:["",a.kI.required],historyOfJustification:["",a.kI.required],timeAttendance:["",a.kI.required],notes:[""]}),this.uploadedCommercialRegFiles=[],this.requiredCommercialRegFiles=!1,this.dialogRef.disableClose=!0}ngOnInit(){}getControl(n){return this.addBranchGroupForm?.get(n)}onRemoveCommercialReg(n){let o=this.uploadedCommercialRegFiles.findIndex(i=>i.fileUpload.lastModified===n.lastModified);this.uploadedCommercialRegFiles.splice(o,1),this.requiredCommercialRegFiles=0===this.uploadedCommercialRegFiles.length}onUploadCommercialReg(n){for(let i of n.files){var o=new FileReader;let r=this;o.readAsDataURL(i),o.onload=function(s){return function(p){r.uploadedCommercialRegFiles.push({imageSrc:p.target.result,fileUpload:s})}}(i)}}request(){this.submitClicked.emit(this.addBranchGroupForm.value),this.addBranchGroupForm.valid?(this.submitted=!1,this.submitClicked.emit(this.addBranchGroupForm.value)):(this.getControl("branchName")?.markAsDirty(),this.getControl("address")?.markAsDirty(),this.getControl("phone")?.markAsDirty())}close(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(c.so),t.Y36(c.WI),t.Y36(b.e),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-assignment-request"]],inputs:{submitted:"submitted",list:"list"},outputs:{submitClicked:"submitClicked"},standalone:!0,features:[t.jDz],decls:79,vars:44,consts:[[1,"container-Dialog"],[1,"header-dialog","d-flex","justify-content-center","align-items-center","p-15","position-relative"],[1,"title-Dialog","m-0"],["type","button",1,"icon-close","iconCloseDialog",3,"click"],[1,"pi","pi-times-circle"],[1,"body-dialog","p-15","f-s-16"],[3,"formGroup"],[1,"section1"],[1,"title"],["formControlName","setAsNecessary"],[1,"col-12"],[1,"row"],[1,"col"],[1,"sectionTwo","mb-3"],[1,"content-password"],["appendTo","body","formControlName","typeOfJustification","placeholder","\u0646\u0648\u0639 \u0627\u0644\u062a\u0643\u0644\u064a\u0641","optionLabel","name",3,"options"],["class","container-alerts",4,"ngIf"],["appendTo","body","placeholder","\u0627\u0644\u0645\u0633\u0626\u0648\u0644 \u0639\u0646 \u0627\u0644\u062a\u0643\u0644\u064a\u0641","optionLabel","name",3,"options"],[1,"col-12","mb-3"],[1,"sectionThree"],["dir","ltr",1,"content-pCalendar-default"],["formControlName","historyOfJustification","appendTo","body",3,"placeholder","showIcon"],["appendTo","body","formControlName","timeAttendance","hourFormat","12","icon","pi pi-clock",3,"timeOnly","inline","placeholder","showIcon"],["appendTo","body","placeholder","\u062a\u0627\u0631\u064a\u062e \u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u062a\u0643\u0644\u064a\u0641",3,"showIcon"],[1,"section-workingDays","mb-3"],[1,"mb-2","d-block","f-s-16"],[1,"item","uploadFiles"],["name","uploadedCommercialRegFiles[]","chooseIcon","pi pi-cloud-upload",3,"customUpload","chooseLabel","multiple","showUploadButton","showCancelButton","maxFileSize","onSelect"],["pTemplate","content"],[1,"maximum-size"],[1,"sectionFive"],["for","",1,"label-input","mb-2",3,"innerHTML"],["type","text","pInputText","","formControlName","notes",1,"w-100",3,"placeholder"],[1,"footer-dialog","p-15","d-flex","justify-content-end"],[1,"background-blue","w-100","color-white","b-r-4","button-action","ml-2","mr-2","f-s-16",3,"click"],[1,"container-alerts"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],["class","list-unstyled p-0",4,"ngIf"],[1,"list-unstyled","p-0"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],["width","50","alt","",3,"src"],[1,"p-fileupload-filename"],[1,"d-block"],[1,"p-element","p-button","p-component","p-button-icon-only",3,"click"],["aria-hidden","true",1,"p-button-icon","pi","pi-times"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"header",1)(2,"h3",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.close()}),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"label",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"p-inputSwitch",9),t.qZA(),t.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",8),t._uU(19,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0643\u0644\u064a\u0641"),t.qZA(),t.TgZ(20,"div",14),t._UZ(21,"p-dropdown",15),t.qZA(),t.YNc(22,O,2,1,"div",16),t.qZA()(),t.TgZ(23,"div",12)(24,"div",13)(25,"label",8),t._uU(26,"\u0627\u0644\u0645\u0633\u0626\u0648\u0644 \u0639\u0646 \u0627\u0644\u062a\u0643\u0644\u064a\u0641"),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"p-dropdown",17),t.qZA(),t.YNc(29,T,2,1,"div",16),t.qZA()()()(),t.TgZ(30,"div",18)(31,"div",11)(32,"div",12)(33,"div",19)(34,"label",8),t._uU(35,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0643\u0644\u064a\u0641"),t.qZA(),t.TgZ(36,"div",14)(37,"div",20),t._UZ(38,"p-calendar",21),t.ALo(39,"translate"),t.qZA()(),t.YNc(40,q,2,1,"div",16),t.qZA()(),t.TgZ(41,"div",12)(42,"div",19)(43,"label",8),t._uU(44,"\u0648\u0642\u062a \u0627\u0644\u062a\u0643\u0644\u064a\u0641"),t.qZA(),t.TgZ(45,"div",14)(46,"div",20),t._UZ(47,"p-calendar",22),t.ALo(48,"translate"),t.qZA()()()()()(),t.TgZ(49,"div",18)(50,"div",11)(51,"div",12)(52,"div",19)(53,"label",8),t._uU(54,"\u062a\u0627\u0631\u064a\u062e \u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u062a\u0643\u0644\u064a\u0641"),t.qZA(),t.TgZ(55,"div",14)(56,"div",20),t._UZ(57,"p-calendar",23),t.qZA()()()()()(),t.TgZ(58,"div",24)(59,"label",25),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",26)(63,"p-fileUpload",27),t.NdJ("onSelect",function(s){return i.onUploadCommercialReg(s)}),t.ALo(64,"translate"),t.YNc(65,U,1,1,"ng-template",28),t.qZA(),t.TgZ(66,"span",29),t._uU(67,"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 2 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a"),t.qZA()()(),t.TgZ(68,"div",30),t._UZ(69,"label",31),t.ALo(70,"translate"),t.TgZ(71,"div",14),t._UZ(72,"input",32),t.ALo(73,"translate"),t.qZA(),t.YNc(74,E,2,1,"div",16),t.qZA()()(),t.TgZ(75,"footer",33)(76,"button",34),t.NdJ("click",function(){return i.request()}),t._uU(77),t.ALo(78,"translate"),t.qZA()()()),2&o){let r,s,p,A;t.xp6(3),t.hij(" ",t.lcZ(4,26,i.data.title)," "),t.xp6(5),t.Q6J("formGroup",i.addBranchGroupForm),t.xp6(3),t.Oqu(t.lcZ(12,28,i.data.setAsNecessary)),t.xp6(10),t.Q6J("options",i.list),t.xp6(1),t.Q6J("ngIf",null==(r=i.getControl("currency"))?null:r.errors),t.xp6(6),t.Q6J("options",i.listTwo),t.xp6(1),t.Q6J("ngIf",null==(s=i.getControl("currency"))?null:s.errors),t.xp6(9),t.Q6J("placeholder",t.lcZ(39,30,i.data.placeholderCalendar))("showIcon",!0),t.xp6(2),t.Q6J("ngIf",null==(p=i.getControl("historyOfJustification"))?null:p.errors),t.xp6(7),t.Q6J("timeOnly",!0)("inline",!1)("placeholder",t.lcZ(48,32,i.data.placeholdertimeAttendance))("showIcon",!0),t.xp6(10),t.Q6J("showIcon",!0),t.xp6(3),t.Oqu(t.lcZ(61,34,i.data.uploadFile)),t.xp6(3),t.Q6J("customUpload",!0)("chooseLabel",t.lcZ(64,36,i.data.chooseLabel))("multiple",!0)("showUploadButton",!1)("showCancelButton",!1)("maxFileSize",1e6),t.xp6(6),t.Q6J("innerHTML",t.lcZ(70,38,i.data.titleNotes),t.oJD),t.xp6(3),t.Q6J("placeholder",t.lcZ(73,40,i.data.placeholdeNotes)),t.xp6(2),t.Q6J("ngIf",null==(A=i.getControl("currency"))?null:A.errors),t.xp6(3),t.Oqu(i.submitted?t.lcZ(78,42,i.data.buttonSend):"loading...")}},dependencies:[d.ez,d.sg,d.O5,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,m.kW,m.Lt,Z.jx,C._8,C.f,h.Iu,h.Ql,_.j,_.o,g.aw,g.X$,f.O,f.p],styles:[".footer-dialog[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}.title-Dialog[_ngcontent-%COMP%]{color:#0d3671;font-size:20px}[_nghost-%COMP%]     .p-inputswitch{width:2.8rem;height:1.46rem}[_nghost-%COMP%]     .p-dropdown{width:100%!important}[_nghost-%COMP%]     .p-calendar{width:100%}.title[_ngcontent-%COMP%]{display:block;font-size:16px;margin-bottom:10px}.body-dialog[_ngcontent-%COMP%]{height:70vh;overflow-y:auto}[_nghost-%COMP%]     .content-pCalendar-default .p-inputtext{border-width:1px 0px 1px 1px;padding-right:0}[_nghost-%COMP%]     .content-pCalendar-default .p-button{background-color:transparent;color:#3085fe!important;border-color:#ced4da!important;border-width:1px 1px 1px 0px!important;padding-left:0!important}.button-action[_ngcontent-%COMP%]{padding:10px 15px;border:0;font-size:16px}.icon-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:gray}.iconCloseDialog[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;display:flex}.p-fileupload-row[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]     .p-fileupload-files{display:none!important}[_nghost-%COMP%]     .p-fileupload-row{justify-content:space-between}[_nghost-%COMP%]     .p-fileupload-buttonbar, [_nghost-%COMP%]     .p-fileupload-content{border:0;padding:0;background-color:#fff}[_nghost-%COMP%]     .p-fileupload-row .p-button{background:#3085FE!important;border:1px solid #3085FE!important}.maximum-size[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;margin-top:7px!important;display:block}[_nghost-%COMP%]     .p-button .p-button-label{flex:initial;font-weight:600}[_nghost-%COMP%]     .p-button .p-button-icon-left{color:#3085fe}[_nghost-%COMP%]     .p-fileupload-choose, [_nghost-%COMP%]     .p-fileupload-choose:hover{background:white!important;font-size:16px;box-shadow:none!important;width:100%;color:#7d8b9e;text-align:center;border:1px solid #CBD5E1;margin:0!important;padding:25px 15px!important;height:initial;border-radius:8px;-webkit-border-radius:8px;-moz-border-radius:8px;-ms-border-radius:8px;-o-border-radius:8px;display:flex!important;justify-content:center}[_nghost-%COMP%]     .p-fileupload-row .p-fileupload-filename{width:36%!important;padding:0 10px!important}[_nghost-%COMP%]     .p-fileupload-row>div:last-of-type{width:10%!important;max-width:36%!important}[_nghost-%COMP%]     .p-fileupload-row>div:last-of-type button{width:100%!important}[_nghost-%COMP%]     .p-fileupload-row>div{text-align:center}[_nghost-%COMP%]     .p-fileupload-content .p-progressbar{display:none!important}[_nghost-%COMP%]     .p-fileupload-row{margin-bottom:10px;margin-top:10px}[_nghost-%COMP%]     .p-fileupload-row img{width:100%}[_nghost-%COMP%]     .p-multiselect{width:100%}[_nghost-%COMP%]     .p-multiselect .p-multiselect-label.p-placeholder, [_nghost-%COMP%]     .p-multiselect-label{font-family:Cairo}[_nghost-%COMP%]     .p-fileupload .p-fileupload-row>div{padding:0}[_nghost-%COMP%]     p-calendar.ng-dirty.ng-invalid .p-button{border-color:#e24c4c!important}[_nghost-%COMP%]     p-calendar.ng-dirty.ng-invalid>.p-calendar>.p-inputtext{border-color:#e24c4c!important}"]})}return e})()}}]);